{% extends "base.html" %}
{% block lab %}Лабораторная работа 5{% endblock %}
{% block main %}

    <h1>Мои статьи</h1>
    
    {% if login %}
        <div style="margin-bottom: 20px;">
            <span>Вы вошли как: {{ login }}</span>
            <a href="/lab5/logout" style="margin-left: 20px; color: #dc3545;">Выйти</a>
        </div>
    {% endif %}

    {% if articles %}
        {% for article in articles %}
            <div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 5px;">
                <h2>{{ article['title'] }}</h2>
                <blockquote>{{ article['article_text'] }}</blockquote>
                <div style="margin-top: 10px;">
                    <a href="{{ url_for('lab5.edit_article', article_id=article['id']) }}" 
                       style="color: #007bff; margin-right: 15px;">Редактировать</a>
                    <a href="{{ url_for('lab5.delete_article', article_id=article['id']) }}" 
                       style="color: #dc3545;" 
                       onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>У вас пока нет ни одной статьи.</p>
    {% endif %}
    
    <div style="margin-top: 20px;">
        <a href="/lab5/create" style="display: inline-block; padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; margin-right: 10px;">
            Создать новую статью
        </a>
        <a href="/lab5" style="display: inline-block; padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">
            На главную
        </a>
    </div>
{% endblock %}
