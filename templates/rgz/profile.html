{% extends "rgz/base.html" %}

{% block title %}Мой профиль{% endblock %}

{% block content %}
<h1>Мой профиль</h1>

{% if error %}
    <div class="error">{{ error }}</div>
{% endif %}

<div class="profile-info">
    <h3>Информация о пользователе:</h3>
    <p><strong>Логин:</strong> {{ user.login }}</p>
    {% if user.full_name %}
    <p><strong>Имя:</strong> {{ user.full_name }}</p>
    {% endif %}
    
    <form method="POST" class="profile-form">
        <div class="form-group">
            <label for="full_name">Полное имя:</label>
            <input type="text" id="full_name" name="full_name" value="{{ user.full_name or '' }}">
        </div>
        
        <h3>Изменение пароля (оставьте пустым, если не хотите менять):</h3>
        
        <div class="form-group">
            <label for="current_password">Текущий пароль:</label>
            <input type="password" id="current_password" name="current_password">
        </div>
        
        <div class="form-group">
            <label for="new_password">Новый пароль:</label>
            <input type="password" id="new_password" name="new_password">
        </div>
        
        <div class="form-group">
            <label for="confirm_password">Подтвердите новый пароль:</label>
            <input type="password" id="confirm_password" name="confirm_password">
        </div>
        
        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    </form>
</div>

<div class="profile-actions">
    <form action="{{ url_for('rgz.delete_account') }}" method="POST" onsubmit="return confirm('Вы уверены, что хотите удалить свой аккаунт? Это действие нельзя отменить.');">
        <button type="submit" class="btn btn-danger">Удалить аккаунт</button>
    </form>
</div>
{% endblock %}